<div class="container my-4">
  <h2 class="mat-headline mb-3">Confirm Your Booking</h2>

  <!-- Flight Information Card -->
  <div class="card mb-4">
    <div class="card-body" *ngIf="selectedFlightOffer">
      <h5 class="card-title">
        {{ selectedFlightOffer.airlineName }} -
        {{ selectedFlightOffer.flightNumber }}
      </h5>
      <p class="card-text">
        <strong>From:</strong> {{ selectedFlightOffer.origin }}<br />
        <strong>To:</strong> {{ selectedFlightOffer.destination }}<br />
        <strong>Departure:</strong> {{ selectedFlightOffer.departureDate
        }}<br />
        <strong>Arrival:</strong> {{ selectedFlightOffer.arrivalDate }}<br />
        <strong>Class:</strong> {{ selectedFlightOffer.flightClassName }}<br />
        <strong>Price:</strong> SGD {{ selectedFlightOffer.basePrice }}
      </p>
    </div>

    <div class="card-body" *ngIf="selectedHotelOffer">
      <h5 class="card-title">{{ selectedHotelOffer.hotelName }}</h5>
      <p class="card-text">
        <strong>Room Type:</strong> {{ selectedHotelOffer.hotelRoomTypeName
        }}<br />
        <strong>Check-in Date:</strong> {{ selectedHotelOffer.checkInDate
        }}<br />
        <strong>Check-out Date:</strong> {{ selectedHotelOffer.checkOutDate
        }}<br />
        <strong>Price:</strong> SGD {{ selectedHotelOffer.totalPrice }}
      </p>
    </div>
  </div>

  <!-- Add-ons Section -->
  <div class="card mb-4">
    <div class="card-header">Select Add-ons</div>
    <div class="card-body" *ngIf="availableFlightAddons">
      <div
        *ngFor="let addon of availableFlightAddons"
        class="d-flex justify-content-between align-items-center mb-2"
      >
        <div>
          <strong>{{ addon.flightAddonDTO.name }}</strong
          ><br />
          <small>SGD {{ addon.price }}</small>
        </div>
        <div>
          <input
            type="number"
            [(ngModel)]="addon.quantity"
            min="0"
            class="form-control"
            style="width: 80px"
          />
        </div>
      </div>
    </div>

    <div class="card-body" *ngIf="availableHotelAddons">
      <div
        *ngFor="let addon of availableHotelAddons"
        class="d-flex justify-content-between align-items-center mb-2"
      >
        <div>
          <strong>{{ addon.hotelAddonDTO.name }}</strong
          ><br />
          <small>SGD {{ addon.hotelAddonDTO.price }}</small>
        </div>
        <div>
          <input
            type="number"
            [(ngModel)]="addon.quantity"
            min="0"
            class="form-control"
            style="width: 80px"
          />
        </div>
      </div>
    </div>
  </div>

  <button class="btn btn-primary" (click)="confirmBooking()">
    Confirm Booking
  </button>

  <p *ngIf="isConfirming">Processing your booking...</p>
</div>
